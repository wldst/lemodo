
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title th:text="|${name}导入数据|"></title>
<link rel="stylesheet"
	th:href="@{/static/plugin/bootstrap/css/bootstrap.min.css}" />
<link th:href="@{/static/layui/css/layui.css}" rel="stylesheet" />
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
  <legend th:text="|导入${name}数据|">导入数据</legend>
</fieldset>
<div class="layui-upload">
  <button type="button" class="layui-btn layui-btn-normal" id="test8">选择数据文件</button>
  <button type="button" class="layui-btn" id="test9">开始上传</button>
</div>
<script th:src="@{/static/plugin/jQuery/jquery-2.2.3.min.js}"></script>
<script th:src="@{/static/plugin/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/static/layui/layui.js}"></script> 
<script th:inline="javascript" type="text/javascript">
	layui.use('upload', function(){
		  var $ = layui.jquery
		  ,upload = layui.upload;
		  //选完文件后不自动上传
		  upload.render({
		    elem: '#test8'
		    ,url: '[(${MODULE_NAME})]/cruder/[(${label})]/importData' //改成您自己的上传接口
		    ,auto: false
		    ,exts: 'xls|xlsx|csv|tsv' //只允许上传压缩文件
		    //,multiple: true
		    ,bindAction: '#test9'
		    ,done: function(res){
		      layer.msg('上传成功');
		      console.log(res)
		    }
		  });
		});
</script>
</body>
</html>